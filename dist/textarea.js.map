{"version":3,"file":"textarea.js","sources":["../compiled/Textarea/InputWrapper.js","../compiled/Textarea/InputTab.js","../compiled/FormattedText.js","../compiled/Textarea/PreviewTab.js","../compiled/Textarea/index.js"],"sourcesContent":["import { __assign } from \"tslib\";\nimport * as React from 'react';\nvar wrapper = function (_a) {\n    var children = _a.children, _b = _a.style, style = _b === void 0 ? {} : _b;\n    return (React.createElement(\"div\", { style: __assign({ border: '1px solid #ddd', borderTop: '0px', borderRadius: '5px', borderTopLeftRadius: '0px', borderTopRightRadius: '0px', padding: '10px', backgroundColor: '#fff', textAlign: 'left' }, style) }, children));\n};\nexport default React.memo(wrapper);\n//# sourceMappingURL=InputWrapper.js.map","import { __assign, __rest } from \"tslib\";\nimport * as React from 'react';\nimport { Input } from 'reactstrap';\nimport InputWrapper from './InputWrapper';\nfunction InputTabMD(props) {\n    var allowFilteredHtml = props.allowFilteredHtml, other = __rest(props, [\"allowFilteredHtml\"]);\n    return (React.createElement(InputWrapper, null,\n        allowFilteredHtml && (React.createElement(\"p\", null, \"You can input markdown or html (start with < to indicate html) for styling the text.\")),\n        React.createElement(Input, __assign({ type: \"textarea\" }, other))));\n}\nexport default React.memo(InputTabMD);\n//# sourceMappingURL=InputTab.js.map","import { __assign, __extends } from \"tslib\";\nimport * as React from 'react';\nimport ReactMarkdown from 'react-markdown';\nimport { filterXSS as xss, getDefaultWhiteList } from 'xss';\nvar FormattedText = (function (_super) {\n    __extends(FormattedText, _super);\n    function FormattedText() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    FormattedText.filterXss = function (_a) {\n        var value = _a.value, _b = _a.whiteList, whiteList = _b === void 0 ? {\n            source: ['src', 'type'],\n            img: ['src', 'alt', 'title', 'width', 'height', 'style'],\n            video: [\n                'autoplay',\n                'controls',\n                'loop',\n                'preload',\n                'src',\n                'height',\n                'width',\n                'style',\n            ],\n        } : _b;\n        var options = {\n            whiteList: __assign(__assign({}, getDefaultWhiteList()), whiteList),\n            stripIgnoreTagBody: ['script'],\n        };\n        return xss(value, options);\n    };\n    FormattedText.prototype.render = function () {\n        var _a = this.props, value = _a.value, _b = _a.allowFilteredHtml, allowFilteredHtml = _b === void 0 ? false : _b, whiteList = _a.whiteList;\n        if (typeof value !== 'string')\n            return null;\n        if (allowFilteredHtml && value.indexOf('<') === 0) {\n            var filteredContent = FormattedText.filterXss({ value: value, whiteList: whiteList });\n            return React.createElement(\"div\", { dangerouslySetInnerHTML: { __html: filteredContent } });\n        }\n        return React.createElement(ReactMarkdown, { skipHtml: false }, value);\n    };\n    return FormattedText;\n}(React.PureComponent));\nexport default FormattedText;\n//# sourceMappingURL=FormattedText.js.map","import * as React from 'react';\nimport InputWrapper from './InputWrapper';\nimport FormattedText from '../FormattedText';\nfunction PreviewTabMD(props) {\n    var allowFilteredHtml = props.allowFilteredHtml, value = props.value;\n    if (typeof value !== 'string') {\n        return React.createElement(InputWrapper, null, \"-\");\n    }\n    return (React.createElement(InputWrapper, null,\n        React.createElement(FormattedText, { value: value, allowFilteredHtml: allowFilteredHtml })));\n}\nexport default React.memo(PreviewTabMD, function (prevProps, newProps) {\n    if (newProps.skipRender)\n        return false;\n    var value = prevProps.value, allowFilteredHtml = prevProps.allowFilteredHtml;\n    if (newProps.value !== value ||\n        newProps.allowFilteredHtml !== allowFilteredHtml) {\n        return true;\n    }\n    return false;\n});\n//# sourceMappingURL=PreviewTab.js.map","import { __assign } from \"tslib\";\nimport * as React from 'react';\nimport { Nav, NavItem, NavLink, TabContent, TabPane, } from 'reactstrap';\nimport InputTab from './InputTab';\nimport PreviewTab from './PreviewTab';\nimport FormattedText from '../FormattedText';\nfunction MdTextarea(props) {\n    var _a = props.id, id = _a === void 0 ? 'unknown_markdown_id' : _a, value = props.value, toggle = props.toggle, _b = props.allowFilteredHtml, allowFilteredHtml = _b === void 0 ? false : _b, rows = props.rows, cols = props.cols, onChange = props.onChange, onFocus = props.onFocus, onBlur = props.onBlur, valid = props.valid, invalid = props.invalid, bsSize = props.bsSize, name = props.name, autoFocus = props.autoFocus, disabled = props.disabled, maxLength = props.maxLength, readOnly = props.readOnly, required = props.required, wrap = props.wrap, whiteList = props.whiteList, filteredValue = props.filteredValue;\n    var _c = React.useState(true), showEdit = _c[0], setShowEdit = _c[1];\n    var onEditClick = React.useCallback(function () {\n        if (toggle) {\n            setShowEdit(!showEdit);\n        }\n        else {\n            setShowEdit(true);\n        }\n    }, [showEdit]);\n    var onPreviewClick = React.useCallback(function () {\n        if (toggle) {\n            setShowEdit(!showEdit);\n        }\n        else {\n            setShowEdit(false);\n        }\n    }, [showEdit]);\n    React.useEffect(function () {\n        if (!filteredValue) {\n            return;\n        }\n        if (typeof value !== 'string') {\n            filteredValue.current = undefined;\n            return;\n        }\n        filteredValue.current = FormattedText.filterXss({ value: value, whiteList: whiteList });\n    }, [value, whiteList]);\n    return (React.createElement(React.Fragment, null,\n        React.createElement(Nav, { tabs: true, key: \"Nav\" },\n            React.createElement(NavItem, null,\n                React.createElement(NavLink, { active: showEdit, onClick: onEditClick }, \"Edit\")),\n            React.createElement(NavItem, null,\n                React.createElement(NavLink, { active: !showEdit, onClick: onPreviewClick }, \"Preview\"))),\n        React.createElement(TabContent, { key: \"Content\", id: \"tabpane_\".concat(id), activeTab: showEdit ? 'Edit' : 'Preview' },\n            React.createElement(TabPane, { tabId: \"Edit\" },\n                React.createElement(InputTab, __assign({ allowFilteredHtml: allowFilteredHtml, value: value, rows: rows, cols: cols }, { onChange: onChange, onFocus: onFocus, onBlur: onBlur }, {\n                    valid: valid,\n                    name: name,\n                    invalid: invalid,\n                    bsSize: bsSize,\n                }, {\n                    autoFocus: autoFocus,\n                    disabled: disabled,\n                    maxLength: maxLength,\n                    readOnly: readOnly,\n                    required: required,\n                    wrap: wrap,\n                }))),\n            React.createElement(TabPane, { tabId: \"Preview\" },\n                React.createElement(PreviewTab, { allowFilteredHtml: allowFilteredHtml, value: value, skipRender: !showEdit })))));\n}\nexport default React.memo(MdTextarea);\n//# sourceMappingURL=index.js.map"],"names":["React","__assign","__rest","Input","__extends","getDefaultWhiteList","xss","Nav","NavItem","NavLink","TabContent","TabPane"],"mappings":"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"}
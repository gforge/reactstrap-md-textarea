{"version":3,"file":"textarea.es6.js","sources":["../src/InputWrapper.tsx","../src/FormattedText.tsx","../src/index.tsx"],"sourcesContent":["// @ts-ignore\nimport * as React from 'react';\n\nexport interface Props {\n  style?: { [propName: string]: string };\n}\n\nconst wrapper: React.SFC<Props> = ({ children, style = {} }) => (\n  <div\n    style={{\n      border: '1px solid #ddd',\n      borderTop: '0px',\n      borderRadius: '5px',\n      borderTopLeftRadius: '0px',\n      borderTopRightRadius: '0px',\n      padding: '10px',\n      backgroundColor: '#fff',\n      textAlign: 'left',\n      ...style,\n    }}\n  >\n    {children}\n  </div>\n);\n\nexport default wrapper;\n","import * as React from 'react';\nimport { default as ReactMarkdown } from 'react-markdown';\nimport { default as xss } from 'xss';\n\nexport interface FormattedInput {\n  value: string;\n  allowDangerousHtml: boolean;\n  whiteList?: { [propName: string]: string[] };\n}\n\nexport default ({\n  value,\n  allowDangerousHtml = false,\n  whiteList = {\n    source: ['src', 'type'],\n    img: ['src', 'alt', 'title', 'width', 'height', 'style'],\n    video: [\n      'autoplay', 'controls', 'loop',\n      'preload', 'src', 'height',\n      'width', 'style',\n    ],\n  },\n}: FormattedInput) => {\n  if (typeof value !== 'string') return null;\n\n  if (allowDangerousHtml && value.indexOf('<') === 0) {\n    const options = {\n      whiteList: {\n        ...xss.getDefaultWhiteList(),\n        ...whiteList,\n      },\n      stripIgnoreTagBody: ['script'], // the script tag is a special case, we need\n      // to filter out its content\n    };\n    const filteredContent = xss(value, options);\n    console.log(filteredContent);\n\n    return (<div dangerouslySetInnerHTML={{ __html: filteredContent }} />);\n  }\n\n  return (\n    <ReactMarkdown\n      source={value}\n      escapeHtml={false}\n    />);\n};\n","import * as React from 'react';\nimport {\n  Input, InputProps,\n  Nav, NavItem, NavLink,\n  TabContent, TabPane,\n} from 'reactstrap';\nimport InputWrapper from './InputWrapper';\nimport FormattedText from './FormattedText';\n\nexport interface State {\n  showEdit: boolean;\n}\n\nexport interface Props extends InputProps {\n  value: string;\n  allowDangerousHtml?: boolean;\n  rows?: number;\n  cols?: number;\n}\n\nclass ReactstrapMdTextarea extends React.Component<Props, State> {\n  constructor(props: Props) {\n    super(props);\n\n    this.toggle = this.toggle.bind(this);\n  }\n  state = {\n    showEdit: true,\n  };\n\n  toggle(show: boolean) {\n    this.setState({ showEdit: show });\n  }\n\n  renderTextarea() {\n    const { type, ...other } = this.props;\n    return (\n      <Input\n        type=\"textarea\"\n        {...other}\n      />);\n  }\n\n  renderTabs() {\n    const { id, value, allowDangerousHtml = false } = this.props;\n    return (\n      <React.Fragment>\n        <Nav tabs={true} key=\"Nav\">\n          <NavItem>\n            <NavLink\n              active={this.state.showEdit}\n              onClick={() => { this.toggle(true); }}\n            >\n              Edit\n            </NavLink>\n          </NavItem>\n          <NavItem>\n            <NavLink\n              active={!this.state.showEdit}\n              onClick={() => { this.toggle(false); }}\n            >\n              Preview\n            </NavLink>\n          </NavItem>\n        </Nav>\n        <TabContent\n          key=\"Content\"\n          id={`tabpane_${id}`}\n          activeTab={this.state.showEdit ? 'Edit' : 'Preview'}\n        >\n          <TabPane tabId=\"Edit\">\n            <InputWrapper>\n              {allowDangerousHtml &&\n                <p>\n                  You can input markdown or html (start with &lt; to indicate html)\n                  for styling the text.\n                </p>\n              }\n              {this.renderTextarea()}\n            </InputWrapper>\n          </TabPane>\n          <TabPane tabId=\"Preview\">\n            <InputWrapper>\n              <FormattedText {...{ value, allowDangerousHtml }} />\n            </InputWrapper>\n          </TabPane>\n        </TabContent>\n      </React.Fragment>\n    );\n  }\n\n  render() {\n    const { type } = this.props;\n    if (type && ['text', 'textarea'].includes(type.toLowerCase())) {\n      return this.renderTextarea();\n    }\n\n    return this.renderTabs();\n  }\n}\n\nexport default ReactstrapMdTextarea;\n"],"names":["React.createElement","tslib_1.__extends","React.Fragment","InputWrapper","React.Component"],"mappings":"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"}